import{setContent as e,keyEnter as t,toEventWithLocalDates as l,toViewWithLocalDates as n,task as i,resourceBackgroundColor as a,resourceTextColor as o,createEventClasses as c,createEventContent as s,addDay as r,cloneDate as u,bgEvent as d,eventIntersects as f,createEventChunk as h,sortEventChunks as m,datesEqual as v,toISOString as $,setPayload as y,btnTextDay as _,themeView as p,btnTextWeek as g,btnTextMonth as k,btnTextYear as b,intl as w}from"@event-calendar/core";import{element as x,space as D,attr as E,insert as C,append as T,action_destroyer as S,listen as B,is_function as M,noop as H,detach as L,run_all as V,component_subscribe as j,binding_callbacks as F,SvelteComponent as N,init as A,safe_not_equal as U,ensure_array_like as W,group_outros as Y,update_keyed_each as O,outro_and_destroy_block as q,check_outros as z,transition_in as G,transition_out as I,empty as J,create_component as K,mount_component as P,destroy_component as Q,destroy_each as R}from"svelte/internal";import{getContext as X,onMount as Z,afterUpdate as ee}from"svelte";function create_fragment$3(l){let n;let i;let a;let o;let c;let s;let r;let u;let d;let f;let h;return{c(){n=x("article");i=x("div");o=D();c=x("div");E(i,"class",a=l[0].eventTag);E(i,"style",l[3]);E(c,"class",s=l[0].eventBody);E(n,"class",l[2]);E(n,"role",u=l[5]?"button":void 0);E(n,"tabindex",d=l[5]?0:void 0)},m(a,s){C(a,n,s);T(n,i);T(n,o);T(n,c);l[38](n);if(!f){h=[S(r=e.call(null,c,l[4])),B(n,"click",(function(){M(l[5])&&l[5].apply(this,arguments)})),B(n,"keydown",(function(){M(l[5]&&t(l[5]))&&(l[5]&&t(l[5])).apply(this,arguments)})),B(n,"mouseenter",(function(){M(l[25](l[6]))&&l[25](l[6]).apply(this,arguments)})),B(n,"mouseleave",(function(){M(l[25](l[7]))&&l[25](l[7]).apply(this,arguments)})),B(n,"pointerdown",(function(){M(l[8].action?.noAction)&&l[8].action?.noAction.apply(this,arguments)}))];f=true}},p(e,t){l=e;t[0]&1&&a!==(a=l[0].eventTag)&&E(i,"class",a);t[0]&8&&E(i,"style",l[3]);t[0]&1&&s!==(s=l[0].eventBody)&&E(c,"class",s);r&&M(r.update)&&t[0]&16&&r.update.call(null,l[4]);t[0]&4&&E(n,"class",l[2]);t[0]&32&&u!==(u=l[5]?"button":void 0)&&E(n,"role",u);t[0]&32&&d!==(d=l[5]?0:void 0)&&E(n,"tabindex",d)},i:H,o:H,d(e){e&&L(n);l[38](null);f=false;V(h)}}}function instance$2(e,t,r){let u;let d;let f;let h;let m;let v;let $;let y;let _;let p;let g;let k;let b;let w;let x;let D;let{chunk:E}=t;let{displayEventEnd:C,eventAllUpdated:T,eventBackgroundColor:S,eventTextColor:B,eventColor:H,eventContent:L,eventClassNames:V,eventClick:N,eventDidMount:A,eventMouseEnter:U,eventMouseLeave:W,resources:Y,theme:O,_view:q,_intlEventTime:z,_interaction:G,_tasks:I}=X("state");j(e,C,(e=>r(32,y=e)));j(e,T,(e=>r(40,f=e)));j(e,S,(e=>r(37,b=e)));j(e,B,(e=>r(34,p=e)));j(e,H,(e=>r(36,k=e)));j(e,L,(e=>r(31,$=e)));j(e,V,(e=>r(33,_=e)));j(e,N,(e=>r(28,u=e)));j(e,A,(e=>r(41,h=e)));j(e,U,(e=>r(6,w=e)));j(e,W,(e=>r(7,x=e)));j(e,Y,(e=>r(35,g=e)));j(e,O,(e=>r(0,v=e)));j(e,q,(e=>r(29,d=e)));j(e,z,(e=>r(30,m=e)));j(e,G,(e=>r(8,D=e)));let J;let K;let P;let Q;let R;let te;let le;Z((()=>{M(h)&&h({event:l(K),timeText:te,el:J,view:n(d)})}));ee((()=>{M(f)&&i((()=>f({view:n(d)})),"eau",I)}));function createHandler(e){return M(e)?t=>e({event:l(K),el:J,jsEvent:t,view:n(d)}):void 0}function article_binding(e){F[e?"unshift":"push"]((()=>{J=e;r(1,J)}))}e.$$set=e=>{"chunk"in e&&r(26,E=e.chunk)};e.$$.update=()=>{e.$$.dirty[0]&67108864&&r(27,K=E.event);if(e.$$.dirty[0]&671088649|e.$$.dirty[1]&124){r(3,Q="");let e=K.backgroundColor||a(K,g)||b||k;e&&r(3,Q=`background-color:${e};`);let t=K.textColor||o(K,g)||p;t&&r(3,Q+=`color:${t};`);r(3,Q+=K.styles.join(";"));r(2,P=[v.event,...c(_,K,d)].join(" "))}e.$$.dirty[0]&1677721601|e.$$.dirty[1]&3&&r(4,[te,R]=s(E,y,$,v,m,d),R);e.$$.dirty[0]&268435456&&r(5,le=createHandler(u))};return[v,J,P,Q,R,le,w,x,D,C,T,S,B,H,L,V,N,A,U,W,Y,O,q,z,G,createHandler,E,K,u,d,m,$,y,_,p,g,k,b,article_binding]}class Event extends N{constructor(e){super();A(this,e,instance$2,create_fragment$3,U,{chunk:26},null,[-1,-1])}}function get_each_context$1(e,t,l){const n=e.slice();n[21]=t[l];return n}function create_if_block$1(t){let l;let n;let i;let a;let o;let c;let s;let r;let u;let d;let f=[];let h=new Map;let m;let v;let $;let y;let _=W(t[2]);const get_key=e=>e[21].event;for(let e=0;e<_.length;e+=1){let l=get_each_context$1(t,_,e);let n=get_key(l);h.set(n,f[e]=create_each_block$1(n,l))}return{c(){l=x("div");n=x("h4");i=x("time");o=D();c=x("time");d=D();for(let e=0;e<f.length;e+=1)f[e].c();E(i,"datetime",t[5]);E(c,"class",s=t[6].daySide);E(c,"datetime",t[5]);E(n,"class",u=t[6].dayHead);E(l,"class",m=t[6].day+" "+t[6].weekdays?.[t[0].getUTCDay()]+(t[3]?" "+t[6].today:"")+(t[4]?" "+t[6].highlight:""));E(l,"role","listitem")},m(s,u){C(s,l,u);T(l,n);T(n,i);T(n,o);T(n,c);T(l,d);for(let e=0;e<f.length;e+=1)f[e]&&f[e].m(l,null);t[20](l);v=true;if(!$){y=[S(a=e.call(null,i,t[8].format(t[0]))),S(r=e.call(null,c,t[9].format(t[0]))),B(l,"pointerdown",(function(){M(t[7].action?.select)&&t[7].action?.select.apply(this,arguments)}))];$=true}},p(e,o){t=e;(!v||o&32)&&E(i,"datetime",t[5]);a&&M(a.update)&&o&257&&a.update.call(null,t[8].format(t[0]));(!v||o&64&&s!==(s=t[6].daySide))&&E(c,"class",s);(!v||o&32)&&E(c,"datetime",t[5]);r&&M(r.update)&&o&513&&r.update.call(null,t[9].format(t[0]));(!v||o&64&&u!==(u=t[6].dayHead))&&E(n,"class",u);if(o&4){_=W(t[2]);Y();f=O(f,o,get_key,1,t,_,h,l,q,create_each_block$1,null,get_each_context$1);z()}(!v||o&89&&m!==(m=t[6].day+" "+t[6].weekdays?.[t[0].getUTCDay()]+(t[3]?" "+t[6].today:"")+(t[4]?" "+t[6].highlight:"")))&&E(l,"class",m)},i(e){if(!v){for(let e=0;e<_.length;e+=1)G(f[e]);v=true}},o(e){for(let e=0;e<f.length;e+=1)I(f[e]);v=false},d(e){e&&L(l);for(let e=0;e<f.length;e+=1)f[e].d();t[20](null);$=false;V(y)}}}function create_each_block$1(e,t){let l;let n;let i;n=new Event({props:{chunk:t[21]}});return{key:e,first:null,c(){l=J();K(n.$$.fragment);this.first=l},m(e,t){C(e,l,t);P(n,e,t);i=true},p(e,l){t=e;const i={};l&4&&(i.chunk=t[21]);n.$set(i)},i(e){if(!i){G(n.$$.fragment,e);i=true}},o(e){I(n.$$.fragment,e);i=false},d(e){e&&L(l);Q(n,e)}}}function create_fragment$2(e){let t;let l;let n=e[2].length&&create_if_block$1(e);return{c(){n&&n.c();t=J()},m(e,i){n&&n.m(e,i);C(e,t,i);l=true},p(e,[l]){if(e[2].length)if(n){n.p(e,l);l&4&&G(n,1)}else{n=create_if_block$1(e);n.c();G(n,1);n.m(t.parentNode,t)}else if(n){Y();I(n,1,1,(()=>{n=null}));z()}},i(e){if(!l){G(n);l=true}},o(e){I(n);l=false},d(e){e&&L(t);n&&n.d(e)}}}function instance$1(e,t,l){let n;let i;let a;let o;let c;let s;let _;let{date:p}=t;let{_events:g,_interaction:k,_intlListDay:b,_intlListDaySide:w,_today:x,highlightedDates:D,theme:E}=X("state");j(e,g,(e=>l(19,a=e)));j(e,k,(e=>l(7,c=e)));j(e,b,(e=>l(8,s=e)));j(e,w,(e=>l(9,_=e)));j(e,x,(e=>l(18,i=e)));j(e,D,(e=>l(17,n=e)));j(e,E,(e=>l(6,o=e)));let C;let T;let S,B;let M;function div_binding(e){F[e?"unshift":"push"]((()=>{C=e;l(1,C)}))}e.$$set=e=>{"date"in e&&l(0,p=e.date)};e.$$.update=()=>{if(e.$$.dirty&524293){l(2,T=[]);let e=p;let t=r(u(p));for(let l of a)if(!d(l.display)&&f(l,e,t)){let n=h(l,e,t);T.push(n)}m(T)}e.$$.dirty&262145&&l(3,S=v(p,i));e.$$.dirty&131073&&l(4,B=n.some((e=>v(e,p))));e.$$.dirty&1&&l(5,M=$(p,10));e.$$.dirty&3&&C&&y(C,(()=>({allDay:true,date:p,resource:void 0,dayEl:C})))};return[p,C,T,S,B,M,o,c,s,_,g,k,b,w,x,D,E,n,i,a,div_binding]}class Day extends N{constructor(e){super();A(this,e,instance$1,create_fragment$2,U,{date:0})}}function get_each_context(e,t,l){const n=e.slice();n[18]=t[l];return n}function create_else_block(e){let t;let l;let n=W(e[1]);let i=[];for(let t=0;t<n.length;t+=1)i[t]=create_each_block(get_each_context(e,n,t));const out=e=>I(i[e],1,1,(()=>{i[e]=null}));return{c(){for(let e=0;e<i.length;e+=1)i[e].c();t=J()},m(e,n){for(let t=0;t<i.length;t+=1)i[t]&&i[t].m(e,n);C(e,t,n);l=true},p(e,l){if(l&2){n=W(e[1]);let a;for(a=0;a<n.length;a+=1){const o=get_each_context(e,n,a);if(i[a]){i[a].p(o,l);G(i[a],1)}else{i[a]=create_each_block(o);i[a].c();G(i[a],1);i[a].m(t.parentNode,t)}}Y();for(a=n.length;a<i.length;a+=1)out(a);z()}},i(e){if(!l){for(let e=0;e<n.length;e+=1)G(i[e]);l=true}},o(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)I(i[e]);l=false},d(e){e&&L(t);R(i,e)}}}function create_if_block(t){let l;let n;let i;let a;let o;return{c(){l=x("div");E(l,"class",n=t[3].noEvents)},m(n,c){C(n,l,c);if(!a){o=[S(i=e.call(null,l,t[0])),B(l,"click",t[12])];a=true}},p(e,t){t&8&&n!==(n=e[3].noEvents)&&E(l,"class",n);i&&M(i.update)&&t&1&&i.update.call(null,e[0])},i:H,o:H,d(e){e&&L(l);a=false;V(o)}}}function create_each_block(e){let t;let l;t=new Day({props:{date:e[18]}});return{c(){K(t.$$.fragment)},m(e,n){P(t,e,n);l=true},p(e,l){const n={};l&2&&(n.date=e[18]);t.$set(n)},i(e){if(!l){G(t.$$.fragment,e);l=true}},o(e){I(t.$$.fragment,e);l=false},d(e){Q(t,e)}}}function create_fragment$1(e){let t;let l;let n;let i;let a;let o;let c;const s=[create_if_block,create_else_block];const r=[];function select_block_type(e,t){return e[2]?0:1}n=select_block_type(e);i=r[n]=s[n](e);return{c(){t=x("div");l=x("div");i.c();E(l,"class",a=e[3].content);E(t,"class",o=e[3].body)},m(i,a){C(i,t,a);T(t,l);r[n].m(l,null);e[15](t);c=true},p(e,[u]){let d=n;n=select_block_type(e);if(n===d)r[n].p(e,u);else{Y();I(r[d],1,1,(()=>{r[d]=null}));z();i=r[n];if(i)i.p(e,u);else{i=r[n]=s[n](e);i.c()}G(i,1);i.m(l,null)}(!c||u&8&&a!==(a=e[3].content))&&E(l,"class",a);(!c||u&8&&o!==(o=e[3].body))&&E(t,"class",o)},i(e){if(!c){G(i);c=true}},o(e){I(i);c=false},d(l){l&&L(t);r[n].d();e[15](null)}}}function instance(e,t,l){let i;let a;let o;let c;let s;let f;let h;let{_bodyEl:m,_events:v,_view:$,_viewDates:y,noEventsClick:_,noEventsContent:p,theme:g}=X("state");j(e,m,(e=>l(4,h=e)));j(e,v,(e=>l(14,c=e)));j(e,$,(e=>l(16,i=e)));j(e,y,(e=>l(1,s=e)));j(e,_,(e=>l(17,a=e)));j(e,p,(e=>l(13,o=e)));j(e,g,(e=>l(3,f=e)));let k,b;function handleClick(e){M(a)&&a({jsEvent:e,view:n(i)})}function div1_binding(e){F[e?"unshift":"push"]((()=>{h=e;m.set(h)}))}e.$$.update=()=>{if(e.$$.dirty&16386){l(2,k=true);if(s.length){let e=s[0];let t=r(u(s.at(-1)));for(let n of c)if(!d(n.display)&&n.start<t&&n.end>e){l(2,k=false);break}}}if(e.$$.dirty&8193){l(0,b=M(o)?o():o);typeof b==="string"&&l(0,b={html:b})}};return[b,s,k,f,h,m,v,$,y,_,p,g,handleClick,o,c,div1_binding]}class Body extends N{constructor(e){super();A(this,e,instance,create_fragment$1,U,{})}}function create_fragment(e){let t;let l;t=new Body({});return{c(){K(t.$$.fragment)},m(e,n){P(t,e,n);l=true},p:H,i(e){if(!l){G(t.$$.fragment,e);l=true}},o(e){I(t.$$.fragment,e);l=false},d(e){Q(t,e)}}}class View extends N{constructor(e){super();A(this,e,null,create_fragment,U,{})}}var te={createOptions(e){e.buttonText.listDay="list";e.buttonText.listWeek="list";e.buttonText.listMonth="list";e.buttonText.listYear="list";e.listDayFormat={weekday:"long"};e.listDaySideFormat={year:"numeric",month:"long",day:"numeric"};e.noEventsClick=void 0;e.noEventsContent="No events";e.theme.daySide="ec-day-side";e.theme.eventTag="ec-event-tag";e.theme.noEvents="ec-no-events";e.view="listWeek";e.views.listDay={buttonText:_,component:View,duration:{days:1},theme:p("ec-list ec-day-view")};e.views.listWeek={buttonText:g,component:View,duration:{weeks:1},theme:p("ec-list ec-week-view")};e.views.listMonth={buttonText:k,component:View,duration:{months:1},theme:p("ec-list ec-month-view")};e.views.listYear={buttonText:b,component:View,duration:{years:1},theme:p("ec-list ec-year-view")}},createStores(e){e._intlListDay=w(e.locale,e.listDayFormat);e._intlListDaySide=w(e.locale,e.listDaySideFormat)}};export{te as default};

